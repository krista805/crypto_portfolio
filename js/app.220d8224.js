(function(t){function e(e){for(var r,s,i=e[0],c=e[1],u=e[2],l=0,d=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);f&&f(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={app:0},a=[];function s(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"54b40423"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=o[t]=[e,r]}));e.push(n[2]=r);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=s(t);var u=new Error;a=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",u.name="ChunkLoadError",u.type=r,u.request=a,n[1](u)}o[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/crypto_portfolio/",i.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var f=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0acb":function(t,e,n){"use strict";n("ae56")},"2b56":function(t,e,n){"use strict";n("6e59")},"2d39":function(t,e,n){"use strict";n("d025")},4378:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("e792"),n("0cdd");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Dashboard")]),t._v(" | "),n("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),n("router-view")],1)},a=[],s=(n("5c0b"),n("2877")),i={},c=Object(s["a"])(i,o,a,!1,null,null,null),u=c.exports,l=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("div",{staticClass:"dashboard"},[n("HelloWorld",{attrs:{msg:""}}),n("PortfolioSummary",{staticClass:"pb-4",attrs:{"asset-total":t.assetTotal,"usd-total":t.usdTotal}}),n("AssetList",{attrs:{"crypto-list":t.items,"usd-total":t.usdTotal}}),n("AssetInput",{on:{clicked:t.onClickChild}})],1)])},d=[],m=(n("b680"),n("a9e3"),n("4de4"),n("c740"),n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))])])}),p=[],b={name:"HelloWorld",props:{msg:String}},h=b,v=(n("2d39"),Object(s["a"])(h,m,p,!1,null,"24addfd9",null)),_=v.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-row",{staticClass:"total"},[n("b-col",{staticClass:"total__value",attrs:{cols:"6"}},[n("div",{staticClass:"title text-left"},[n("h2",{staticClass:"text-uppercase"},[t._v("Portfolio Value")]),n("span",{staticClass:"number"},[t._v("$"+t._s(t.usdTotal))])])]),n("b-col",{staticClass:"total__assets text-right",attrs:{cols:"6"}},[n("div",{staticClass:"border border-primary rounded-circle pt-2"},[n("span",{staticClass:"number pt-2"},[t._v(t._s(t.assetTotal))]),n("br"),n("span",{staticClass:"text text-uppercase"},[t._v("Assets")])])])],1)},g=[],C={name:"PortfolioSummary",props:["assetTotal","usdTotal"],data:function(){return{}}},k=C,O=(n("95b7"),Object(s["a"])(k,y,g,!1,null,"7ee3faa0",null)),j=O.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-row",[n("b-col",{attrs:{cols:"12"}},[n("h2",{staticClass:"text-uppercase text-left"},[t._v("Overview")])]),n("b-table",{attrs:{hover:"",items:t.cryptoList,fields:t.fields},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[n("div",{staticClass:"table__asset first"},[n("span",{staticClass:"ticker",class:t.setVariantColor(e.item.allocation)}),n("img",{staticClass:"logo mr-1",attrs:{src:e.item.logo}}),t._v(" "+t._s(e.item.name)+" ")])]}},{key:"cell(amount)",fn:function(e){return[t._v(" "+t._s(e.item.amount)+" ")]}},{key:"cell(current_usd)",fn:function(e){return[t._v(" "+t._s(e.item.usdPrice)+" ")]}},{key:"cell(allocation)",fn:function(e){return[t._v(" "+t._s(e.item.allocation)+" "),n("b-progress",{attrs:{value:e.item.allocation,variant:t.setVariantColor(e.item.allocation)}})]}},{key:"cell(actions)",fn:function(e){return[n("b-button",{attrs:{variant:"danger"},on:{click:function(n){return t.deleteRow(e.item.id)}}},[t._v("Delete")])]}}])})],1)},x=[],P=n("5530"),T=(n("d81d"),n("a434"),n("2f62")),A={name:"AssetList",props:{cryptoList:Array,usdTotal:Number},data:function(){return{fields:[{key:"name",label:"Asset",tdClass:"align-middle",sortable:!0},{key:"amount",tdClass:"align-middle",sortable:!0},{key:"current_usd",tdClass:"align-middle",sortable:!0},{key:"allocation",tdClass:"align-middle",sortable:!0},{key:"actions",tdClass:"align-middle"}],variantColor:null}},methods:Object(P["a"])(Object(P["a"])({},Object(T["b"])(["fetchCrypto"])),{},{setVariantColor:function(t){return t>=50?"success":t<50&&t>20?"info":"warning"},deleteRow:function(t){var e=this.cryptoList.map((function(t){return t.id})).indexOf(t);e>=0&&this.cryptoList.splice(e,1)}})},S=A,L=(n("0acb"),Object(s["a"])(S,w,x,!1,null,"3e2f93a5",null)),$=L.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",{staticClass:"justify-content-center pt-4"},[n("b-form",{attrs:{inline:""}},[n("b-form-group",[n("b-form-select",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},[n("option",{domProps:{value:null}},[t._v(" Please select an option ")]),t._l(t.coinList,(function(e){return n("option",{key:e.id,domProps:{value:e.name}},[t._v(" "+t._s(e.name)+" ")])}))],2)],1),n("b-form-group",[n("b-form-input",{attrs:{id:"input-1",type:"number"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1),n("b-button",{attrs:{variant:"success"},on:{click:function(e){return e.preventDefault(),t.onSubmit()}}},[t._v("Submit")])],1)],1)],1)},I=[],F={name:"AssetInput",data:function(){return{counter:0,form:null}},computed:Object(P["a"])(Object(P["a"])({},Object(T["c"])(["getCrypto"])),{},{coinList:function(){var t=this.getCrypto;return t}}),methods:Object(P["a"])(Object(P["a"])({},Object(T["b"])(["fetchCrypto"])),{},{usdPrice:function(t){for(var e=0;e<this.coinList.length;e++)t===this.coinList[e].name&&(this.form.price=this.coinList[e].current_price,this.form.logo=this.coinList[e].image);this.calculateAmountByPrice()},generateId:function(){this.counter+=1,this.form.id=this.counter},calculateAmountByPrice:function(){this.form.usdPrice=Number((this.form.amount*this.form.price).toFixed(2))},resetForm:function(){this.form={amount:null,name:null,price:null,id:null,logo:null,usdPrice:null,allocation:null}},onSubmit:function(){this.usdPrice(this.form.name),this.generateId(),this.$emit("clicked",this.form),this.resetForm()}}),created:function(){this.resetForm()}},D=F,M=Object(s["a"])(D,E,I,!1,null,null,null),N=M.exports,R={name:"Dashboard",components:{HelloWorld:_,PortfolioSummary:j,AssetList:$,AssetInput:N},data:function(){return{items:[]}},computed:{assetTotal:function(){return this.calculateAssetTotal()},usdTotal:function(){return this.items.reduce((function(t,e){return parseFloat((t+Number(e.amount*e.price||0)).toFixed(2))}),0)}},mounted:function(){this.$store.dispatch("fetchCrypto")},updated:function(){this.calculateAllocation()},methods:{onClickChild:function(t){this.items.push(t)},calculateAssetTotal:function(){if(!this.items.length)return"0";var t=this.items.filter((function(t,e,n){return e===n.findIndex((function(e){return e.name===t.name}))}));return t.length},calculateAllocation:function(){for(var t=0;t<this.items.length;t++){var e=Math.round(this.items[t].usdPrice/this.usdTotal*100);this.items[t].allocation=e}}}},V=R,H=(n("2b56"),Object(s["a"])(V,f,d,!1,null,null,null)),W=H.exports;r["default"].use(l["a"]);var B=[{path:"/",name:"Dashboard",component:W},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],J=new l["a"]({mode:"history",base:"/crypto_portfolio/",routes:B}),q=J,z=n("1da1"),G=(n("96cf"),n("bc3a")),K=n.n(G);r["default"].use(T["a"]);var Q=new T["a"].Store({state:{coins:[]},mutations:{SET_COINS:function(t,e){t.coins=e}},actions:{fetchCrypto:function(t){return Object(z["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,K.a.get("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=1&sparkline=true");case 4:return r=e.sent,n("SET_COINS",r.data),e.abrupt("return",r);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}},getters:{getCrypto:function(t){return t.coins}},modules:{}}),U=n("5f5b");n("f9e3"),n("2dd8");r["default"].use(U["a"]),r["default"].config.productionTip=!1,new r["default"]({router:q,store:Q,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("6605")},6605:function(t,e,n){},"6e59":function(t,e,n){},"95b7":function(t,e,n){"use strict";n("4378")},ae56:function(t,e,n){},d025:function(t,e,n){}});
//# sourceMappingURL=app.220d8224.js.map